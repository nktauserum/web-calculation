# Оркестратор

Оркестратор - это микросервис, который управляет распределением вычислительных задач и обработкой математических выражений.

## Основные функции

1. Прием и обработка математических выражений через API
2. Разбиение сложных выражений на атомарные операции
3. Управление очередью задач
4. Распределение задач между агентами-вычислителями
5. Сбор и агрегация результатов вычислений

## API Endpoints

### Публичные endpoints

- `POST /api/v1/calculate` - прием математического выражения для вычисления
- `GET /api/v1/expressions` - получение списка всех выражений
- `GET /api/v1/expressions/{expressionID}` - получение информации о конкретном выражении
- `GET /api/v1/tasks` - получение списка всех задач

### Внутренние endpoints (для агентов)

- `GET /internal/task` - получение доступной задачи для вычисления
- `POST /internal/task` - прием результата вычисления от агента

## Принцип работы

1. Оркестратор принимает математическое выражение через API
2. Разбивает его на атомарные операции с помощью алгоритма RPN (Reverse Polish Notation)
3. Создает отдельные задачи для каждой операции
4. Сохраняет задачи в очередь
5. Агенты запрашивают задачи через GET /internal/task
6. После выполнения агенты отправляют результаты обратно
7. Оркестратор собирает результаты и обновляет статус выражения

## Конфигурация

Оркестратор запускается на порту 8080 по умолчанию и хранит все задачи и выражения в памяти с использованием структуры Queue.
